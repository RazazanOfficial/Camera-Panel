document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("btnReboot");function t(e,{endpoint:t,title:o,confirmHtml:n,seconds:a=30}){e&&window.RebootModal&&e.addEventListener("click",(e=>{e.preventDefault(),RebootModal.confirmAndReboot({title:o,message:n,seconds:a,onConfirm:async()=>{await apiPost(t,{}),window.Auth?.clearToken?.()},lockTitle:"Applying settings…",lockMessage:"Camera is resetting and will reboot. Please wait…"})}))}e&&window.RebootModal&&e.addEventListener("click",(()=>{RebootModal.confirmAndReboot({message:"This change will <b>reboot the camera</b>. Are you sure?",seconds:15,onConfirm:async()=>{await apiPost(API_ENDPOINTS.reboot,{}),window.Auth?.clearToken?.()},lockTitle:"Rebooting…",lockMessage:"Please do not refresh the page; the camera is rebooting…"})}));t(document.getElementById("btnRestore"),{endpoint:API_ENDPOINTS.resetKeepIpUser,title:"Restore (Keep IP & Users)",confirmHtml:"This will reset all parameters <b>except IP parameters and user information</b>. The camera will reboot. Continue?",seconds:15});t(document.getElementById("btnDefault"),{endpoint:API_ENDPOINTS.resetAll,title:"Factory Default (Full Reset)",confirmHtml:"This will restore <b>all parameters to default</b>. The camera will reboot. Continue?",seconds:15})}));