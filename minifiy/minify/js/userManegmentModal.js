"use strict";!function(){const e={form:"userMngFormModal","delete":"userMngDeleteModal"};function t(){if(!document.getElementById(e.form)){const t=document.createElement("div");t.id=e.form,t.className="modal fade",t.tabIndex=-1,t.innerHTML=`\n        <div class="modal-dialog">\n          <div class="modal-content">\n            <div class="modal-header">\n              <h5 class="modal-title" id="${e.form}-title">User</h5>\n              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>\n            </div>\n            <div class="modal-body">\n              <form id="${e.form}-form" novalidate>\n                <div class="mb-3">\n                  <label for="${e.form}-username" class="form-label">Username</label>\n                  <input type="text" class="form-control" id="${e.form}-username" required />\n                  <div class="invalid-feedback">Please enter a username.</div>\n                </div>\n\n                <div class="mb-3">\n                  <label for="${e.form}-password" class="form-label">Password</label>\n                  <input type="password" class="form-control" id="${e.form}-password" required />\n                  <div class="invalid-feedback">Please enter a password.</div>\n                </div>\n\n                <div class="mb-3">\n                  <label for="${e.form}-level" class="form-label">Level</label>\n                  <select class="form-select" id="${e.form}-level" required>\n                    <option value="0">Shahaab</option>\n                    <option value="1">Administrator</option>\n                    <option value="2">User</option>\n                  </select>\n                  <div class="invalid-feedback">Please select a level.</div>\n                </div>\n\n                <input type="hidden" id="${e.form}-line" value="" />\n              </form>\n            </div>\n            <div class="modal-footer">\n              <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Close</button>\n              <button type="button" id="${e.form}-save" class="btn btn-primary">Save</button>\n            </div>\n          </div>\n        </div>\n      `,document.body.appendChild(t)}if(!document.getElementById(e["delete"])){const t=document.createElement("div");t.id=e["delete"],t.className="modal fade",t.tabIndex=-1,t.innerHTML=`\n        <div class="modal-dialog modal-dialog-centered">\n          <div class="modal-content">\n            <div class="modal-header">\n              <h5 class="modal-title">Delete User</h5>\n              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>\n            </div>\n            <div class="modal-body">\n              <p id="${e["delete"]}-text" class="mb-0">Are you sure you want to delete this user?</p>\n            </div>\n            <div class="modal-footer">\n              <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Cancel</button>\n              <button type="button" id="${e["delete"]}-confirm" class="btn btn-danger">Delete</button>\n            </div>\n          </div>\n        </div>\n      `,document.body.appendChild(t)}}function n({title:n,username:o="",level:l="2",number_line:a="",onSubmit:d}){t();const s=document.getElementById(e.form),i=bootstrap.Modal.getOrCreateInstance(s,{backdrop:!0,keyboard:!0}),r=document.getElementById(`${e.form}-title`),m=document.getElementById(`${e.form}-username`),c=document.getElementById(`${e.form}-password`),u=document.getElementById(`${e.form}-level`),b=document.getElementById(`${e.form}-line`),v=document.getElementById(`${e.form}-form`),f=document.getElementById(`${e.form}-save`);r.textContent=n||"User",m.value=o,c.value="",u.value=function(e){const t=String(e??"").trim().toLowerCase();return"0"===t||"shahaab"===t||"root"===t||"super"===t||"superuser"===t?"0":"1"===t||"admin"===t||"administrator"===t?"1":"2"===t||"user"===t||"operator"===t?"2":"adminstrator"===t?"1":"2"}(l),b.value=a||"",v.classList.remove("was-validated");f.onclick=()=>{const e=m.value.trim(),t=c.value,n=u.value,o=b.value?Number(b.value):null;let l=!0;e||(l=!1),t||(l=!1),n||(l=!1),l?("function"==typeof d&&d({username:e,password:t,level:n,number_line:o}),i.hide()):v.classList.add("was-validated")},i.show()}window.UserManegmentModal={openAdd(e){n({title:"Add User",onSubmit:e})},openEdit(e,t){n({title:"Modify User",...e,onSubmit:t})},openDelete(n,o){!function({number_line:n,username:o,onConfirm:l}){t();const a=document.getElementById(e["delete"]),d=bootstrap.Modal.getOrCreateInstance(a,{backdrop:!0,keyboard:!0}),s=document.getElementById(`${e["delete"]}-text`),i=document.getElementById(`${e["delete"]}-confirm`);s.textContent=`Are you sure you want to delete user "${o}" (line #${n})?`,i.onclick=()=>{"function"==typeof l&&l({number_line:n}),d.hide()},d.show()}({...n,onConfirm:o})}}}();